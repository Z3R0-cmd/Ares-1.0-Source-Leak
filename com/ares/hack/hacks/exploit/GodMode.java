package com.ares.hack.hacks.exploit;

import net.minecraftforge.client.event.GuiOpenEvent;
import net.minecraft.client.gui.GuiScreen;
import net.minecraft.client.gui.GuiGameOver;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;
import net.minecraft.network.play.client.CPacketPlayer;
import net.minecraft.network.play.client.CPacketConfirmTeleport;
import com.ares.event.packet.PacketSent;
import com.ares.hack.settings.settings.EnumSetting;
import com.ares.hack.settings.Setting;
import com.ares.hack.categories.EnumCategory;
import com.ares.hack.hacks.BaseHack;

@Hack(name = "God Mode", description = "Make yourself invulnerable", category = EnumCategory.EXPLOIT)
public class GodMode extends BaseHack
{
    private final Setting<Mode> mode;
    
    public GodMode() {
        this.mode = new EnumSetting<Mode>("Mode", this, Mode.PORTAL);
    }
    
    @SubscribeEvent
    public void onPacketSent(final PacketSent a1) {
        /*SL:42*/if (this.getEnabled()) {
            /*SL:44*/if (this.mode.getValue() == Mode.PORTAL && a1.packet instanceof CPacketConfirmTeleport) {
                /*SL:46*/a1.setCanceled(true);
            }
            /*SL:49*/if (this.mode.getValue() == Mode.PACKET && a1.packet instanceof CPacketPlayer) {
                /*SL:51*/a1.setCanceled(true);
            }
        }
    }
    
    public void onDisabled() {
        /*SL:59*/if (this.mode.getValue() == Mode.SPOOFDEATH) {
            GodMode.mc.field_71439_g.func_71004_bE();
        }
    }
    
    public void onLogic() {
        /*SL:68*/if (this.getEnabled() && /*EL:70*/this.mode.getValue() == Mode.SPOOFDEATH) {
            GodMode.mc.field_71439_g.func_70606_j(/*EL:72*/20.0f);
            GodMode.mc.field_71439_g.func_71024_bL().func_75114_a(/*EL:73*/20);
            GodMode.mc.field_71439_g.field_70128_L = /*EL:74*/false;
            /*SL:77*/if (GodMode.mc.field_71462_r instanceof GuiGameOver) {
                GodMode.mc.func_147108_a(/*EL:79*/(GuiScreen)null);
            }
        }
    }
    
    @SubscribeEvent
    public void onGuiOpened(final GuiOpenEvent a1) {
        /*SL:90*/if (this.getEnabled() && a1.getGui() instanceof GuiGameOver && /*EL:92*/this.mode.getValue() == Mode.SPOOFDEATH) {
            /*SL:94*/a1.setCanceled(true);
        }
    }
    
    enum Mode
    {
        PORTAL("Portal God Mode"), 
        SPOOFDEATH("Spoof Death"), 
        PACKET(/*EL:98*/"Anti Packet");
        
        private final String name;
        
        private Mode(final String a1) {
            this.name = a1;
        }
        
        @Override
        public String toString() {
            /*SL:33*/return this.name;
        }
    }
}
