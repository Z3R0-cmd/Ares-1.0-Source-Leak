package com.ares.hack.hacks.exploit;

import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;
import java.util.Iterator;
import com.ares.utils.chat.ChatUtils;
import net.minecraft.network.play.server.SPacketPlayerListItem;
import com.ares.event.packet.PacketRecieved;
import com.ares.hack.settings.settings.number.IntegerSetting;
import com.ares.hack.settings.Setting;
import com.ares.hack.categories.EnumCategory;
import com.ares.hack.hacks.BaseHack;

@Hack(name = "Admin Finder", description = "maybe", category = EnumCategory.EXPLOIT)
public class AdminFinder extends BaseHack
{
    private Setting<Integer> maxPlayers;
    
    public AdminFinder() {
        this.maxPlayers = new IntegerSetting("Max PlayerPreviewElement Count", this, 200, 175, 225);
    }
    
    @SubscribeEvent
    public void onRecievePacket(final PacketRecieved v0) {
        /*SL:20*/if (v0.packet instanceof SPacketPlayerListItem && this.getEnabled()) {
            final SPacketPlayerListItem v = /*EL:22*/(SPacketPlayerListItem)v0.packet;
            /*SL:26*/if (v.func_179768_b() == SPacketPlayerListItem.Action.ADD_PLAYER && AdminFinder.mc.func_147114_u() != null && AdminFinder.mc.func_147114_u().func_175106_d().size() >= this.maxPlayers.getValue()) {
                /*SL:28*/for (final SPacketPlayerListItem.AddPlayerData a1 : v.func_179767_a()) {
                    /*SL:30*/ChatUtils.printMessage("PlayerPreviewElement " + a1.func_179961_d() + " is an admin?", "gold");
                }
            }
        }
    }
}
